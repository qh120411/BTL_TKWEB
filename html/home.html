<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Liên kết CSS -->
    <link rel="stylesheet" href="/css/home.css" />
    <!-- Icon FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Trang chính</title>
  </head>
  
  <script>
    fetch("sidebar.html")
    .then((res) => res.text())
    .then((html) => {
      document.getElementById("sidebar").innerHTML = html;
      
      // Thêm CSS
      const link = document.createElement("link");
      link.rel = "stylesheet";
      link.href = "../css/sidebar.css";
      document.head.appendChild(link);
      
      // Thêm JS
      const script = document.createElement("script");
      script.src = "../js/sidebar.js";
      document.body.appendChild(script);
    })
    .catch((err) => console.error("Không tải được sidebar:", err));
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <body>

    <div class="app-container">
        <!-- Sidebar -->
        <div id = "sidebar"></div>

        <!-- Nội dung chính -->
        <div class = "main-container">
          <div class = "main-content">
            <h2>Thống kê lượng xe ra/ vào trong ngày hôm nay</h2>
            <div class = "chart-box">
                <canvas id ="linechart"></canvas>
            </div>
            <span id="xemChiTiet" class="chart-link">
                Nhấn để xem thống kê chi tiết →
            </span>
          </div>
        
        <div class = "under-container">
          <div class = "under-left-container">
              <h3>Danh sách xe ra/ vào ngày hôm nay</h3>
              <table class = "table-wrap">
                <thead>
                  <tr>
                    <th>Chủ xe</th>
                    <th>MSV</th>
                    <th>BSX</th>
                    <th>Loại xe</th>
                    <th>Trạng thái</th>
                    <th>Nhà xe</th>
                  </tr>
                </thead>
            
                <tbody id = "parking-body">
                  <!--phần của js-->
                </tbody>
              </table>
              <span id="xemds" class="chart-link">
                  Nhấn để xem toàn bộ danh sách→
              </span>
            </div>

          <div class = "under-right-container">
              <h3>Thông kê doanh thu hôm nay</h3>
              <div class="chart-container">
                <canvas id="piechart"></canvas>
                <div class="chart-info">
                  <p><span class="color-box blue"></span> Xe máy</p>
                  <p><span class="color-box orange"></span> Xe đạp</p>
                  <p><strong>Tổng:</strong> 15M vnd</p>
                </div>
              </div>
              <span id="xemds" class="chart-link">
                  Nhấn để xem thống kê doanh thu→
              </span>
          </div>
        
    </div>
    <script src = "/js/home.js" defer></script>

  </body>
  </html>
  


